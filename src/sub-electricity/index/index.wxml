<view class="card inquiry">

	<view class="input-container">
		<text>10</text>
		<input class="input building" value="{{building}}" placeholder="æ¥¼å·" maxlength="2"
			confirm-type="next" bindinput="inputBuilding" focus="{{ focus }}" />
		<input class="input room" value="{{room}}" placeholder="å¯å®¤å·" maxlength="4"
			confirm-type="send" bindinput="inputRoom" bindconfirm="fetchElectricity" />
	</view>

	<button class="button submit" type="primary" loading="{{loading}}" bindtap="fetchElectricity">æŸ¥è¯¢</button>

</view>

<view class="instruction" wx:if="{{ !showResult }}">è¯·è¾“å…¥æ¥¼å·å’Œå¯å®¤å·ï¼Œå¹¶ç‚¹å‡»â€œæŸ¥è¯¢â€</view>

<view class="card result {{ showResult }}">

	<view class="tab-container">
		<view class="tab {{ currentTab === 0 }}" data-current="0" bindtap="switchTab">â„¹ï¸ ç”µè´¹ä½™é¢</view>
		<view style="width: .5rem"></view>
		<view class="tab {{ currentTab === 1 }}" data-current="1" bindtap="switchTab">ğŸ’¹ ä½¿ç”¨æƒ…å†µ</view>
	</view>

	<swiper class="swiper" current="{{currentTab}}" bindchange="swiperChange" duration="200">
		<swiper-item>
			<scroll-view class="scroll-view" scroll-y="true">

				<view class="section electricity" wx:if="{{ electricity !== null }}">
					<button class="button hint" bindtap="showHint"
						data-content="æ•°æ®æ¥è‡ªå­¦æ ¡åœ¨çº¿ç”µè´¹æŸ¥è¯¢å¹³å°ã€‚å¦‚æœ‰é”™è¯¯ï¼Œè¯·ä»¥å……å€¼æœºæ˜¾ç¤ºé‡‘é¢ä¸ºå‡†ã€‚"
					>æ•°æ®æœ‰è¯¯ï¼Ÿ</button>
					<view><text class="title">ã€€æˆ¿é—´å·ï¼š</text>{{electricity.room}}</view>
					<view><text class="title">å‰©ä½™é‡‘é¢ï¼š</text>{{electricity.balance}} å…ƒ</view>
					<view><text class="title">å‰©ä½™ç”µé‡ï¼š</text>{{electricity.power}} åº¦</view>
					<view><text class="title">æ›´æ–°æ—¶é—´ï¼š</text>{{electricity.datetime}}</view>
				</view>

			</scroll-view>
		</swiper-item>
		<swiper-item>
			<scroll-view class="scroll-view" scroll-y="true">

				<view class="section rank" wx:if="{{ rank !== null }}">
					<navigator class="button share"
						url="../share/share?consumption={{rank.consumption}}&percent={{rank.percent}}"
						>åˆ†äº«</navigator>
					<view class="title">24å°æ—¶å†…</view>
					<view>ä½¿ç”¨ç”µè´¹ {{rank.consumption}} å…ƒ</view>
					<view>è¶…è¶Šäº† {{rank.percent}}% çš„å¯å®¤</view>
				</view>

				<view class="section bill" wx:if="{{ days !== null || hours !== null }}">
					<view class="title">ç”µè´¹ä½¿ç”¨æƒ…å†µ</view>
					<view class="switch-container">
						<text class="switch-label {{currentRange === 'hours'}}">è¿‡å»ä¸€å¤©</text>
						<switch class="switch" checked="true" bindchange="changeRange" />
						<text class="switch-label {{currentRange === 'days'}}">è¿‡å»ä¸€å‘¨</text>
					</view>
					<canvas id="canvas" canvas-id="canvas" type="{{ canvas2d ? '2d' : '' }}"
						bindtouchstart="touchStart" bindtouchmove="touchMove" bindtouchend="touchEnd" />
					<view wx:if="{{currentRange === 'hours'}}">
					å…±æ¶ˆè´¹ {{hours.sum}} å…ƒï¼Œå¹³å‡æ¶ˆè´¹ {{hours.median}} å…ƒ/å°æ—¶
					</view>
					<view wx:if="{{currentRange === 'days'}}">
					å…±æ¶ˆè´¹ {{ days.sum}} å…ƒï¼Œå¹³å‡æ¶ˆè´¹ {{ days.median}} å…ƒ/å¤©
					</view>
				</view>

				<view class="section charge" wx:if="{{ charges.length > 0 }}">
					<view class="title">è¿‘æœŸå……å€¼</view>
					<view wx:for="charges" wx:key="date">{{item.date}} å……å€¼ {{item.charge}} å…ƒ</view>
				</view>

				</scroll-view>
		</swiper-item>
	</swiper>

</view>
